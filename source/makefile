SRCFILES = ./gr_sketch.cpp ./gr_common/RLduino78/cores/HardwareSerial.cpp ./gr_common/RLduino78/cores/IPAddress.cpp ./gr_common/RLduino78/cores/MsTimer2.cpp ./gr_common/RLduino78/cores/Print.cpp ./gr_common/RLduino78/cores/RLduino78_basic.cpp ./gr_common/RLduino78/cores/RLduino78_main.cpp ./gr_common/RLduino78/cores/RLduino78_RTC.cpp ./gr_common/RLduino78/cores/RLduino78_timer.c ./gr_common/RLduino78/cores/Stream.cpp ./gr_common/RLduino78/cores/WString.cpp ./gr_common/RLduino78/cores/avr/avrlib.c ./gr_common/RLduino78/libraries/AndroidAccessory/AndroidAccessory.cpp ./gr_common/RLduino78/libraries/EEPROM/EEPROM.cpp ./gr_common/RLduino78/libraries/EEPROM/utility/data_flash_util.c ./gr_common/RLduino78/libraries/Ethernet/Dhcp.cpp ./gr_common/RLduino78/libraries/Ethernet/Dns.cpp ./gr_common/RLduino78/libraries/Ethernet/Ethernet.cpp ./gr_common/RLduino78/libraries/Ethernet/EthernetClient.cpp ./gr_common/RLduino78/libraries/Ethernet/EthernetServer.cpp ./gr_common/RLduino78/libraries/Ethernet/EthernetUdp.cpp ./gr_common/RLduino78/libraries/Ethernet/Twitter.cpp ./gr_common/RLduino78/libraries/Ethernet/utility/socket.cpp ./gr_common/RLduino78/libraries/Ethernet/utility/w5100.cpp ./gr_common/RLduino78/libraries/Ethernet/utility/w5200.cpp ./gr_common/RLduino78/libraries/Ethernet/utility/w5500.cpp ./gr_common/RLduino78/libraries/Firmata/Firmata.cpp ./gr_common/RLduino78/libraries/LiquidCrystal/LiquidCrystal.cpp ./gr_common/RLduino78/libraries/PicalicoFree/PicalicoClass.cpp ./gr_common/RLduino78/libraries/RTC/RTC.cpp ./gr_common/RLduino78/libraries/SD/File.cpp ./gr_common/RLduino78/libraries/SD/SD.cpp ./gr_common/RLduino78/libraries/SD/utility/Sd2Card.cpp ./gr_common/RLduino78/libraries/SD/utility/SdFile.cpp ./gr_common/RLduino78/libraries/SD/utility/SdVolume.cpp ./gr_common/RLduino78/libraries/Servo/Servo.cpp ./gr_common/RLduino78/libraries/SPI/SPI.cpp ./gr_common/RLduino78/libraries/Stepper/Stepper.cpp ./gr_common/RLduino78/libraries/USB_Host_Shield/Usb.cpp ./gr_common/RLduino78/libraries/USB_Host_Shield/utility/Max3421e.cpp ./gr_common/RLduino78/libraries/Wire/Wire.cpp ./gr_common/RLduino78/libraries/Wire/utility/twi.c ./gr_common/RLduino78/portable/e2studio/RL78/exception_handler.cpp ./gr_common/RLduino78/portable/e2studio/RL78/interrupt_handlers.c ./gr_common/RLduino78/portable/e2studio/RL78/reset_program.asm ./gr_common/RLduino78/portable/e2studio/RL78/vector_table.c ./src/BleCommunicator.cpp ./src/BleMidiCommunicator.cpp ./src/Communicator.cpp ./src/Rn4020Controller.cpp ./src/SerialController.cpp ./src/StopWatch.cpp ./src/StringUtility.cpp ./src/OsakanaFFT/src/OsakanaFft.cpp ./src/OsakanaFFT/src/OsakanaFpFft.cpp ./src/PitchDetector/src/ContinuityDetector.cpp ./src/PitchDetector/src/EdgeDetector.cpp ./src/PitchDetector/src/MelodyCommandReceiver.cpp ./src/PitchDetector/src/MelodyDetector.cpp ./src/PitchDetector/src/OsakanaPitchDetection.cpp ./src/PitchDetector/src/OsakanaPitchDetectionFp.cpp ./src/PitchDetector/src/PeakDetectMachine.cpp ./src/PitchDetector/src/PeakDetectMachineFp.cpp ./src/PitchDetector/src/PitchDiagnostic.cpp ./src/PitchDetector/src/ResponsiveMelodyDetector.cpp ./src/PitchDetector/src/VolumeComparator.cpp 
OBJFILES = ./gr_sketch.o ./gr_common/RLduino78/cores/HardwareSerial.o ./gr_common/RLduino78/cores/IPAddress.o ./gr_common/RLduino78/cores/MsTimer2.o ./gr_common/RLduino78/cores/Print.o ./gr_common/RLduino78/cores/RLduino78_basic.o ./gr_common/RLduino78/cores/RLduino78_main.o ./gr_common/RLduino78/cores/RLduino78_RTC.o ./gr_common/RLduino78/cores/Stream.o ./gr_common/RLduino78/cores/WString.o ./gr_common/RLduino78/libraries/AndroidAccessory/AndroidAccessory.o ./gr_common/RLduino78/libraries/EEPROM/EEPROM.o ./gr_common/RLduino78/libraries/Ethernet/Dhcp.o ./gr_common/RLduino78/libraries/Ethernet/Dns.o ./gr_common/RLduino78/libraries/Ethernet/Ethernet.o ./gr_common/RLduino78/libraries/Ethernet/EthernetClient.o ./gr_common/RLduino78/libraries/Ethernet/EthernetServer.o ./gr_common/RLduino78/libraries/Ethernet/EthernetUdp.o ./gr_common/RLduino78/libraries/Ethernet/Twitter.o ./gr_common/RLduino78/libraries/Ethernet/utility/socket.o ./gr_common/RLduino78/libraries/Ethernet/utility/w5100.o ./gr_common/RLduino78/libraries/Ethernet/utility/w5200.o ./gr_common/RLduino78/libraries/Ethernet/utility/w5500.o ./gr_common/RLduino78/libraries/Firmata/Firmata.o ./gr_common/RLduino78/libraries/LiquidCrystal/LiquidCrystal.o ./gr_common/RLduino78/libraries/PicalicoFree/PicalicoClass.o ./gr_common/RLduino78/libraries/RTC/RTC.o ./gr_common/RLduino78/libraries/SD/File.o ./gr_common/RLduino78/libraries/SD/SD.o ./gr_common/RLduino78/libraries/SD/utility/Sd2Card.o ./gr_common/RLduino78/libraries/SD/utility/SdFile.o ./gr_common/RLduino78/libraries/SD/utility/SdVolume.o ./gr_common/RLduino78/libraries/Servo/Servo.o ./gr_common/RLduino78/libraries/SPI/SPI.o ./gr_common/RLduino78/libraries/Stepper/Stepper.o ./gr_common/RLduino78/libraries/USB_Host_Shield/Usb.o ./gr_common/RLduino78/libraries/USB_Host_Shield/utility/Max3421e.o ./gr_common/RLduino78/libraries/Wire/Wire.o ./gr_common/RLduino78/portable/e2studio/RL78/exception_handler.o ./src/BleCommunicator.o ./src/BleMidiCommunicator.o ./src/Communicator.o ./src/Rn4020Controller.o ./src/SerialController.o ./src/StopWatch.o ./src/StringUtility.o ./src/OsakanaFFT/src/OsakanaFft.o ./src/OsakanaFFT/src/OsakanaFpFft.o ./src/PitchDetector/src/ContinuityDetector.o ./src/PitchDetector/src/EdgeDetector.o ./src/PitchDetector/src/MelodyCommandReceiver.o ./src/PitchDetector/src/MelodyDetector.o ./src/PitchDetector/src/OsakanaPitchDetection.o ./src/PitchDetector/src/OsakanaPitchDetectionFp.o ./src/PitchDetector/src/PeakDetectMachine.o ./src/PitchDetector/src/PeakDetectMachineFp.o ./src/PitchDetector/src/PitchDiagnostic.o ./src/PitchDetector/src/ResponsiveMelodyDetector.o ./src/PitchDetector/src/VolumeComparator.o ./gr_common/RLduino78/cores/RLduino78_timer.o ./gr_common/RLduino78/cores/avr/avrlib.o ./gr_common/RLduino78/libraries/EEPROM/utility/data_flash_util.o ./gr_common/RLduino78/libraries/Wire/utility/twi.o ./gr_common/RLduino78/portable/e2studio/RL78/interrupt_handlers.o ./gr_common/RLduino78/portable/e2studio/RL78/vector_table.o ./gr_common/RLduino78/portable/e2studio/RL78/reset_program.o 
LIBFILES = ./gr_common/RLduino78/libraries/EEPROM/utility/pfdl.a ./gr_common/RLduino78/libraries/PicalicoFree/picalicoFree.a 
CCINC = -I./gr_build -I./gr_common -I./gr_common/include -I./gr_common/RLduino78 -I./gr_common/RLduino78/cores -I./gr_common/RLduino78/cores/avr -I./gr_common/RLduino78/libraries -I./gr_common/RLduino78/libraries/AndroidAccessory -I./gr_common/RLduino78/libraries/EEPROM -I./gr_common/RLduino78/libraries/EEPROM/utility -I./gr_common/RLduino78/libraries/Ethernet -I./gr_common/RLduino78/libraries/Ethernet/utility -I./gr_common/RLduino78/libraries/Firmata -I./gr_common/RLduino78/libraries/LiquidCrystal -I./gr_common/RLduino78/libraries/PicalicoFree -I./gr_common/RLduino78/libraries/RTC -I./gr_common/RLduino78/libraries/SD -I./gr_common/RLduino78/libraries/SD/utility -I./gr_common/RLduino78/libraries/Servo -I./gr_common/RLduino78/libraries/SPI -I./gr_common/RLduino78/libraries/Stepper -I./gr_common/RLduino78/libraries/USB_Host_Shield -I./gr_common/RLduino78/libraries/USB_Host_Shield/utility -I./gr_common/RLduino78/libraries/Wire -I./gr_common/RLduino78/libraries/Wire/utility -I./gr_common/RLduino78/portable -I./gr_common/RLduino78/portable/e2studio -I./gr_common/RLduino78/portable/e2studio/RL78 -I./gr_writer -I./src -I./src/OsakanaFFT -I./src/OsakanaFFT/include -I./src/OsakanaFFT/src -I./src/PitchDetector -I./src/PitchDetector/include -I./src/PitchDetector/src 
HEADERFILES = ./gr_common/include/pins_arduino.h ./gr_common/include/RLduino78.h ./gr_common/include/RLduino78_mcu_depend.h ./gr_common/RLduino78/cores/Arduino.h ./gr_common/RLduino78/cores/binary.h ./gr_common/RLduino78/cores/Client.h ./gr_common/RLduino78/cores/fastio.h ./gr_common/RLduino78/cores/HardwareSerial.h ./gr_common/RLduino78/cores/iodefine.h ./gr_common/RLduino78/cores/iodefine_ext.h ./gr_common/RLduino78/cores/IPAddress.h ./gr_common/RLduino78/cores/MsTimer2.h ./gr_common/RLduino78/cores/new.h ./gr_common/RLduino78/cores/pintable.h ./gr_common/RLduino78/cores/Print.h ./gr_common/RLduino78/cores/Printable.h ./gr_common/RLduino78/cores/RLduino78_RTC.h ./gr_common/RLduino78/cores/RLduino78_timer.h ./gr_common/RLduino78/cores/Server.h ./gr_common/RLduino78/cores/Stream.h ./gr_common/RLduino78/cores/Udp.h ./gr_common/RLduino78/cores/WString.h ./gr_common/RLduino78/cores/avr/avrlib.h ./gr_common/RLduino78/cores/avr/interrupt.h ./gr_common/RLduino78/cores/avr/pgmspace.h ./gr_common/RLduino78/libraries/AndroidAccessory/AndroidAccessory.h ./gr_common/RLduino78/libraries/EEPROM/EEPROM.h ./gr_common/RLduino78/libraries/EEPROM/utility/data_flash_util.h ./gr_common/RLduino78/libraries/EEPROM/utility/pfdl.h ./gr_common/RLduino78/libraries/EEPROM/utility/pfdl_types.h ./gr_common/RLduino78/libraries/Ethernet/Dhcp.h ./gr_common/RLduino78/libraries/Ethernet/Dns.h ./gr_common/RLduino78/libraries/Ethernet/Ethernet.h ./gr_common/RLduino78/libraries/Ethernet/EthernetClient.h ./gr_common/RLduino78/libraries/Ethernet/EthernetServer.h ./gr_common/RLduino78/libraries/Ethernet/EthernetUdp.h ./gr_common/RLduino78/libraries/Ethernet/Twitter.h ./gr_common/RLduino78/libraries/Ethernet/util.h ./gr_common/RLduino78/libraries/Ethernet/utility/socket.h ./gr_common/RLduino78/libraries/Ethernet/utility/w5100.h ./gr_common/RLduino78/libraries/Ethernet/utility/w5200.h ./gr_common/RLduino78/libraries/Ethernet/utility/w5500.h ./gr_common/RLduino78/libraries/Firmata/Boards.h ./gr_common/RLduino78/libraries/Firmata/Firmata.h ./gr_common/RLduino78/libraries/LiquidCrystal/LiquidCrystal.h ./gr_common/RLduino78/libraries/PicalicoFree/PicalicoClass.h ./gr_common/RLduino78/libraries/PicalicoFree/PicalicoFree.h ./gr_common/RLduino78/libraries/RTC/RTC.h ./gr_common/RLduino78/libraries/SD/SD.h ./gr_common/RLduino78/libraries/SD/utility/FatStructs.h ./gr_common/RLduino78/libraries/SD/utility/Sd2Card.h ./gr_common/RLduino78/libraries/SD/utility/Sd2PinMap.h ./gr_common/RLduino78/libraries/SD/utility/SdFat.h ./gr_common/RLduino78/libraries/SD/utility/SdFatmainpage.h ./gr_common/RLduino78/libraries/SD/utility/SdFatUtil.h ./gr_common/RLduino78/libraries/SD/utility/SdInfo.h ./gr_common/RLduino78/libraries/Servo/Servo.h ./gr_common/RLduino78/libraries/SPI/SPI.h ./gr_common/RLduino78/libraries/Stepper/Stepper.h ./gr_common/RLduino78/libraries/USB_Host_Shield/Usb.h ./gr_common/RLduino78/libraries/USB_Host_Shield/utility/ch9.h ./gr_common/RLduino78/libraries/USB_Host_Shield/utility/Max3421e.h ./gr_common/RLduino78/libraries/USB_Host_Shield/utility/Max3421e_constants.h ./gr_common/RLduino78/libraries/Wire/Wire.h ./gr_common/RLduino78/libraries/Wire/utility/twi.h ./gr_common/RLduino78/libraries/Wire/utility/utiltwi.h ./gr_common/RLduino78/portable/e2studio/RL78/interrupt_handlers.h ./gr_common/RLduino78/portable/e2studio/RL78/typedefine.h ./src/BleCommunicator.h ./src/BleMidiCommunicator.h ./src/CommonTool.h ./src/Communicator.h ./src/debug.h ./src/Rn4020Controller.h ./src/SerialController.h ./src/StopWatch.h ./src/StringUtility.h ./src/OsakanaFFT/include/OsakanaComplex.h ./src/OsakanaFFT/include/OsakanaFft.h ./src/OsakanaFFT/include/OsakanaFftConfig.h ./src/OsakanaFFT/include/OsakanaFftDebug.h ./src/OsakanaFFT/include/OsakanaFp.h ./src/OsakanaFFT/include/OsakanaFpComplex.h ./src/OsakanaFFT/include/OsakanaFpFft.h ./src/OsakanaFFT/include/OsakanaFpFftDebug.h ./src/OsakanaFFT/src/bitreversetable.h ./src/OsakanaFFT/src/OsakanaFftUtil.h ./src/OsakanaFFT/src/twiddletable.h ./src/PitchDetector/include/EdgeDetector.h ./src/PitchDetector/include/MelodyCommandReceiver.h ./src/PitchDetector/include/MelodyDetector.h ./src/PitchDetector/include/OsakanaPitchDetection.h ./src/PitchDetector/include/OsakanaPitchDetectionCommon.h ./src/PitchDetector/include/OsakanaPitchDetectionFp.h ./src/PitchDetector/include/PitchDiagnostic.h ./src/PitchDetector/include/ResponsiveMelodyDetector.h ./src/PitchDetector/src/ContinuityDetector.h ./src/PitchDetector/src/NoteTable8.h ./src/PitchDetector/src/NoteTable8IndexRange.h ./src/PitchDetector/src/PeakDetectMachine.h ./src/PitchDetector/src/PeakDetectMachineCommon.h ./src/PitchDetector/src/PeakDetectMachineFp.h ./src/PitchDetector/src/VolumeComparator.h 
TARGET = kurumi_sketch
GNU_PATH :=C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/
CFLAGS :=-I./ -I "$(GNU_PATH)rl78-elf/include" -I "$(GNU_PATH)lib/gcc/rl78-elf/4.8-GNURL78_v14.03/include" -Os -fno-function-cse -funit-at-a-time -falign-jumps -fdata-sections -ffunction-sections -fno-cprop-registers -fsigned-char -g2 -g -DREL_GR_KURUMI -DARDUINO=100 -DWORKAROUND_READ_MODIFY_WRITE
#CFLAGS :=-Wa,-adlhn="$(basename $(notdir $<)).lst" -Wall -W -fsigned-char -I "$(GNU_PATH)rl78-elf/include" -I "$(GNU_PATH)lib/gcc/rl78-elf/4.8-GNURL78_v14.03/include" -Os -fno-function-cse -funit-at-a-time -falign-jumps -fdata-sections -ffunction-sections -fno-cprop-registers -g2 -g -DREL_GR_KURUMI -DARDUINO=100 -DWORKAROUND_READ_MODIFY_WRITE
AFLAGS :=-I "$(GNU_PATH)rl78-elf/include" -Wall -W -fsigned-char -I "$(GNU_PATH)lib/gcc/rl78-elf/4.8-GNURL78_v14.03/include" -Os -fno-function-cse -funit-at-a-time -falign-jumps -fdata-sections -ffunction-sections -fno-cprop-registers -g2 -g -Wa,-gdwarf2
SFLAGS :=--gdwarf2
CC  = rl78-elf-gcc
AS  = rl78-elf-as
LNK = rl78-elf-ld
CNVS = rl78-elf-objcopy -O srec
CNVB = rl78-elf-objcopy -O binary --gap-fill 0xff
DMP = rl78-elf-objdump
AR  = rl78-elf-ar rcs
OBJS = $(OBJFILES) $(LIBFILES)
AOBJS = $(filter-out ./gr_sketch.o, $(OBJFILES))
LFLAGS = -M=./gr_build/$(TARGET).map -e_PowerON_Reset -T"./gr_common/RLduino78/portable/e2studio/RL78/rl78_R5F100GJAFB.ld" -L"C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/rl78-elf/lib" -L"C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/lib/gcc/rl78-elf/4.8-GNURL78_v14.03" "C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/lib/gcc/rl78-elf/4.8-GNURL78_v14.03/crtbegin.o" "C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/lib/gcc/rl78-elf/4.8-GNURL78_v14.03/crtend.o" "C:/Renesas/e2studio/GNURL78v14.03-ELF/rl78-elf/rl78-elf/lib/crtn.o" --start-group --gc-sections -lstdc++ -lnosys -lm -lc -lgcc --end-group
MAKEFILE = makefile

make = make --no-print-directory 

all: rom

rom: $(OBJS) $(MAKEFILE)
	$(LNK) $(OBJS) $(LFLAGS) -o ./gr_build/$(TARGET).x
	$(CNVB) ./gr_build/$(TARGET).x  $(TARGET).bin
	$(CNVS) ./gr_build/$(TARGET).x  ./gr_build/$(TARGET).mot
	rm -f *.o

%.o: %.s
	$(AS) $(SFLAGS) $(CCINC) $< -o $@

%.o: %.asm
	$(CC) $(AFLAGS) $(CCINC) -c -x assembler-with-cpp $< -o $@

%.o: %.c $(HEADERFILES)
	$(CC) $(CFLAGS) $(CCINC) -c -x c $< -o $@

%.o: %.cpp $(HEADERFILES)
	$(CC) $(CFLAGS) $(CCINC) -c -x c++ $< -o $@

clean: $(OBJS) $(MAKEFILE)
	rm -f $(OBJFILES)
	rm -f ./gr_build/$(TARGET).x
	rm -f $(TARGET).bin
	rm -f ./gr_build/$(TARGET).mot
	rm -f ./gr_build/$(TARGET).map

lib: $(AOBJS) $(MAKEFILE)
	$(AR) core.a $(AOBJS)
	
clrsrc: 
	rm -f $(filter-out ./gr_sketch.cpp, $(SRCFILES))
